(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n.n(o),u=n(15),l=n(4),i=n(2),m=n(3),f=n.n(m),s=function(){return f.a.get("/notes").then((function(e){return e.data}))},p=function(e){return f.a.post("/notes",e).then((function(e){return e.data}))},d=function(e){var t=e.id;return f.a.put("".concat("/notes","/").concat(t),e).then((function(e){return e.data}))},v=function(e){var t=e.note,n=e.handleToggleImportance,a=t.important?"make not important":"make important";return r.a.createElement("li",{className:"note"},t.content,r.a.createElement("button",{style:{margin:"0 .5rem"},onClick:n},a))},b=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)},E=function(){return r.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},r.a.createElement("br",null),r.a.createElement("em",null,"Note app, Department of Computer Science, University of Helsinki 2019"))},g=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),m=Object(i.a)(c,2),f=m[0],g=m[1],h=Object(a.useState)(!0),j=Object(i.a)(h,2),O=j[0],k=j[1],y=Object(a.useState)(null),S=Object(i.a)(y,2),w=S[0],N=S[1];Object(a.useEffect)((function(){console.log("effect");var e={content:"I'm fake",date:"2020-01-17T18:22:13.090Z",important:!1,id:1e3};s().then((function(t){console.log("promise fulfilled"),o([].concat(Object(l.a)(t),[e]))}))}),[]),console.log("render",n.length,"notes");var C=O?n:n.filter((function(e){return e.important})),I=function(e){return function(){var t=n.find((function(t){return t.id===e}));d(Object(u.a)({},t,{important:!t.important})).then((function(t){o(n.map((function(n){return n.id===e?t:n})))})).catch((function(a){N("Note '".concat(t.content,"' was already removed from server")),setTimeout((function(){return N(null)}),5e3),o(n.filter((function(t){return t.id!==e})))}))}};return r.a.createElement("div",null,r.a.createElement("h1",null,"Notes"),r.a.createElement(b,{message:w}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return k(!O)}},"show ",O?"important":"all")),r.a.createElement("ul",null,C.map((function(e){return r.a.createElement(v,{key:e.id,note:e,handleToggleImportance:I(e.id)})}))),r.a.createElement("form",{onSubmit:function(e){var t={content:f,date:new Date,important:Math.random()>.5};e.preventDefault(),p(t).then((function(e){o([].concat(Object(l.a)(n),[e])),g("")}))}},r.a.createElement("input",{value:f,onChange:function(e){console.log(e.target.value),g(e.target.value)}}),r.a.createElement("button",{type:"submit"},"save")),r.a.createElement(E,null))};n(39);c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.8db10f0b.chunk.js.map